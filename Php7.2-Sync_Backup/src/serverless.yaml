component: scf
name: ap-guangzhou_default_COS_Sync_Backup
org: app
app: cosdemo
stage: dev
inputs:
  name: COS_Sync_Backup
  src: ./
  description: >-
    This demo will backup the COS bucket object to another bucket when you
    upload the file. 此示例使用COS作为触发器，在用户上传文件到指定bucket时，将该文件复制到另一个用于备份的bucket存储
  handler: sync_backup.main_handler
  runtime: Php7
  namespace: default
  region: ap-guangzhou
  memorySize: 128
  timeout: 10
  events: # 触发器
    - cos: # cos触发器
        name: ${output:${stage}:${app}:cosdemo.cosOrigin}
        parameters:
          bucket: ${output:${stage}:${app}:cosdemo.cosOrigin}
          events: 'cos:ObjectCreated:*'
          enable: true


